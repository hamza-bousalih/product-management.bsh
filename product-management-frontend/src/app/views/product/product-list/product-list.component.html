<c-row style="margin-bottom: 1rem;">
    <c-nav class="justify-content-end">
        <c-nav-item>
            @if (!loading) {
            <p>
                <button cButton color="primary" routerLink="create">Create</button>
            </p>
            } @else {
            <p cPlaceholderAnimation="glow">
                <button cButton cCol="7" cPlaceholder color="primary" disabled style="width: 100px"></button>
            </p>
            }
        </c-nav-item>
    </c-nav>
</c-row>

<c-row>
    <c-col xs>
        @if (loading) {
        <p cPlaceholderAnimation="glow">
            <span cCol="12" cPlaceholder></span>
            <span cCol="12" cPlaceholder></span>
            <span cCol="12" cPlaceholder></span>
        </p>
        } @else {
        <c-card class="mb-4">
            <c-card-body>
                <table
                        [hover]="true"
                        [responsive]="true"
                        [striped]="true"
                        align="middle"
                        cTable
                        class="mb-0 border"
                >
                    <thead class="text-nowrap text-truncate">
                    <tr>
                                                    <th class="bg-body-tertiary">Name</th>
                            <th class="bg-body-tertiary">Marque</th>
                            <th class="bg-body-tertiary">Sn</th>
                            <th class="bg-body-tertiary">Cab</th>
                            <th class="bg-body-tertiary">Customer</th>
                            <th class="bg-body-tertiary">Supplier</th>
                        <th class="bg-body-tertiary" style="display: flex; justify-content: end;">Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    @for (it of items; track it; let i = $index) {
                    <tr>
                            <td>{{ it.name }}</td>
                            <td>{{ it.marque }}</td>
                            <td>{{ it.sn }}</td>
                            <td>{{ it.cab }}</td>
                            <td>{{ it.customer != null ? it.customer.id: "null" }}</td>
                            <td>{{ it.supplier != null ? it.supplier.name: "null" }}</td>
                        <td style="display: flex; justify-content: end;">
                            <button cButton color routerLink="update" (click)="item = it">
                                <svg cIcon name="cil-pen" size="lg"></svg>
                            </button>
                            <button cButton color (click)="delete(it.id, i)">
                                <svg cIcon name="cil-trash" size="lg"></svg>
                            </button>
                        </td>
                    </tr>
                    }
                    </tbody>
                </table>
            </c-card-body>
        </c-card>
        }
    </c-col>
</c-row>
